"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[8973],{77799:(e,t,s)=>{s.d(t,{VCFParser:()=>r});var n=s(62845);class r extends n.V{constructor(e,t){super(e,t)}static checkAndFixText(e){const t=e.trim().split("\n"),s=[];let n=t.find(e=>e.startsWith("VERSION:"));n&&(n=n.substring(8));const r=!n||"2.1"===n;for(let e=0;e<t.length;e++){let n=t[e];const l=n.split(":");l[0]=l[0].replaceAll("#","=");const c=l.slice(1).join(":");if(r){const e=String(l[0].split(";")[0]);if(e.length<l[0].length){let t=l[0].substring(e.length+1);t="TYPE="+t.replaceAll(";",","),n=e+";"+t+":"+c}}else l.length>1&&(n=l[0]+":"+c);s.push(n)}return s.join("\n")}async parse(e){e=r.checkAndFixText(e);const t=(await s.e(2859).then(s.bind(s,68202))).default;let n=null;try{n=t.parse(e),console.debug("[VFCParser.parse]",n)}catch(t){console.debug(e),console.error("[VCFParser.parse]",t)}return n}}}}]);