"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[2931],{92931:(e,s,r)=>{r.d(s,{KHR_materials_sheen:()=>h});var n=r(98556),o=r(26041),t=r(37812);const a="KHR_materials_sheen";class h{constructor(e){this.name=a,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,s,r){return n.BT.LoadExtensionAsync(e,s,this.name,async(n,o)=>{const t=new Array;return t.push(this._loader.loadMaterialPropertiesAsync(e,s,r)),t.push(this._loadSheenPropertiesAsync(n,o,r)),await Promise.all(t).then(()=>{})})}_loadSheenPropertiesAsync(e,s,r){const n=this._loader._getOrCreateMaterialAdapter(r),t=new Array;n.configureFuzz();const a=void 0!==s.sheenColorFactor?o.v9.FromArray(s.sheenColorFactor):o.v9.Black(),h=void 0!==s.sheenRoughnessFactor?s.sheenRoughnessFactor:0;return n.fuzzWeight=1,n.fuzzColor=a,n.fuzzRoughness=h,s.sheenColorTexture&&t.push(this._loader.loadTextureInfoAsync(`${e}/sheenColorTexture`,s.sheenColorTexture,e=>{e.name=`${r.name} (Sheen Color)`,n.fuzzColorTexture=e})),s.sheenRoughnessTexture&&(s.sheenRoughnessTexture.nonColorData=!0,t.push(this._loader.loadTextureInfoAsync(`${e}/sheenRoughnessTexture`,s.sheenRoughnessTexture,e=>{e.name=`${r.name} (Sheen Roughness)`,n.fuzzRoughnessTexture=e}))),Promise.all(t).then(()=>{})}}(0,t.Hg)(a),(0,t.Ye)(a,!0,e=>new h(e))}}]);