"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[718],{20718:(e,i,s)=>{s.d(i,{KHR_materials_iridescence:()=>t});var r=s(98556),c=s(37812);const n="KHR_materials_iridescence";class t{constructor(e){this.name=n,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,i,s){return r.BT.LoadExtensionAsync(e,i,this.name,async(r,c)=>{const n=new Array;return n.push(this._loader.loadMaterialPropertiesAsync(e,i,s)),n.push(this._loadIridescencePropertiesAsync(r,c,s)),await Promise.all(n).then(()=>{})})}_loadIridescencePropertiesAsync(e,i,s){const r=this._loader._getOrCreateMaterialAdapter(s),c=new Array,n=i.iridescenceFactor??0,t=i.iridescenceIor??i.iridescenceIOR??1.3,a=i.iridescenceThicknessMinimum??100,d=i.iridescenceThicknessMaximum??400;return r.iridescenceWeight=n,r.iridescenceIor=t,r.iridescenceThicknessMinimum=a,r.iridescenceThicknessMaximum=d,i.iridescenceTexture&&c.push(this._loader.loadTextureInfoAsync(`${e}/iridescenceTexture`,i.iridescenceTexture,e=>{e.name=`${s.name} (Iridescence)`,r.iridescenceTexture=e})),i.iridescenceThicknessTexture&&c.push(this._loader.loadTextureInfoAsync(`${e}/iridescenceThicknessTexture`,i.iridescenceThicknessTexture,e=>{e.name=`${s.name} (Iridescence Thickness)`,r.iridescenceThicknessTexture=e})),Promise.all(c).then(()=>{})}}(0,c.Hg)(n),(0,c.Ye)(n,!0,e=>new t(e))}}]);