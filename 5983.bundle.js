"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[5983],{67877:(e,t,i)=>{i.d(t,{VideoView:()=>d});var s=i(42109),o=i(15287);class d extends o.P{constructor(e){super(e,"video"),this._objectURL=null}destroy(){super.destroy(),this._objectURL&&URL.revokeObjectURL(this._objectURL)}async load(){this._objectURL=URL.createObjectURL(this.parser.file);const e=document.createElement("video");if(e.setAttribute("controls",""),e.setAttribute("preload","metadata"),e.volume=.25,e.canPlayType(this.parser.mimeType))e.addEventListener("loadedmetadata",()=>{e.videoHeight&&(e.height=e.videoHeight),e.width=e.videoWidth||900,this.mdAdd("Dimensions",e.width+"Ã—"+e.height+" px"),this.mdAdd("Duration",s.UI.formatDuration(1e3*e.duration)),this.buildMetaNode(),this.nodeView.append(e),this._openWindow()}),e.src=this._objectURL;else{const e=document.createElement("p");e.className="note",e.textContent=`Playback for video format not supported: "${this.parser.mimeType}"`,this.buildMetaNode(),this.nodeView.append(e)}}}}}]);