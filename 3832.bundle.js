"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[3832],{33832:(e,t,s)=>{s.r(t),s.d(t,{ShadowGeneratorSceneComponent:()=>a});var n=s(31671),o=s(21970),r=s(16945);(0,s(93084).ji)(r.v.NAME_SHADOWGENERATOR,(e,t)=>{if(void 0!==e.shadowGenerators&&null!==e.shadowGenerators)for(let s=0,r=e.shadowGenerators.length;s<r;s++){const r=e.shadowGenerators[s];r.className===o.c.CLASSNAME?o.c.Parse(r,t):n.ShadowGenerator.Parse(r,t)}});class a{constructor(e){this.name=r.v.NAME_SHADOWGENERATOR,this.scene=e}register(){this.scene._gatherRenderTargetsStage.registerStep(r.v.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR,this,this._gatherRenderTargets)}rebuild(){}serialize(e){e.shadowGenerators=[];const t=this.scene.lights;for(const s of t){if(s.doNotSerialize)continue;const t=s.getShadowGenerators();if(t){const s=t.values();for(let t=s.next();!0!==t.done;t=s.next()){const s=t.value;s.doNotSerialize||e.shadowGenerators.push(s.serialize())}}}}addFromContainer(e){}removeFromContainer(e,t){}dispose(){}_gatherRenderTargets(e){const t=this.scene;if(this.scene.shadowsEnabled)for(let s=0;s<t.lights.length;s++){const n=t.lights[s],o=n.getShadowGenerators();if(n.isEnabled()&&n.shadowEnabled&&o){const s=o.values();for(let n=s.next();!0!==n.done;n=s.next()){const s=n.value.getShadowMap();-1!==t.textures.indexOf(s)&&e.push(s)}}}}}n.ShadowGenerator._SceneComponentInitialization=e=>{let t=e._getComponent(r.v.NAME_SHADOWGENERATOR);t||(t=new a(e),e._addComponent(t))}},93084:(e,t,s)=>{s.d(t,{ji:()=>o});const n={};function o(e,t){n[e]=t}}}]);