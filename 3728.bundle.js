"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[3728],{6513:(e,r,i)=>{i.d(r,{Model3DView:()=>s});var t=i(15287);class s extends t.P{constructor(e){super(e,"model3d"),this._objectURL=null,this._viewer=null}destroy(){super.destroy(),this._viewer?.source&&URL.revokeObjectURL(this._viewer.source),this._viewer?.remove()}async load(){const e=await i.e(6808).then(i.bind(i,75570));this._viewer=new e.HTML3DElement({cameraAutoOrbit:{enabled:!1,speed:0}}),this._viewer.extension=this.parser.ext,this._viewer.addEventListener("environmenterror",e=>console.error("environmenterror",e)),this._viewer.addEventListener("modelerror",e=>console.error("modelerror",e)),this._viewer.addEventListener("viewerready",e=>{console.debug("viewerready",e);const r=this._viewer.viewerDetails.scene;r.cameras[0].onViewMatrixChangedObservable.add((e,i)=>{const t=e.position,s=r.lights[0]?.direction;s?.set(t.x,t.y,t.z)})}),this.buildMetaNode(),this.nodeView.append(this._viewer),this._openWindow({height:600,width:760}),setTimeout(()=>{this._viewer.source=URL.createObjectURL(this.parser.file)},100)}}}}]);