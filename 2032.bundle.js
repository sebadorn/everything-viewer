"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[2032],{12032:(e,t,r)=>{r.d(t,{KHR_materials_anisotropy:()=>i});var s=r(23975),o=r(45316),n=r(37812);const a="KHR_materials_anisotropy";class i{constructor(e){this.name=a,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return o.BT.LoadExtensionAsync(e,t,this.name,((s,o)=>{const n=new Array;return n.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),n.push(this._loadIridescencePropertiesAsync(s,o,r)),Promise.all(n).then((()=>{}))}))}_loadIridescencePropertiesAsync(e,t,r){if(!(r instanceof s.Y))throw new Error(`${e}: Material type not supported`);const o=new Array;return r.anisotropy.isEnabled=!0,r.anisotropy.intensity=t.anisotropyStrength??0,r.anisotropy.angle=t.anisotropyRotation??0,t.anisotropyTexture&&(t.anisotropyTexture.nonColorData=!0,o.push(this._loader.loadTextureInfoAsync(`${e}/anisotropyTexture`,t.anisotropyTexture,(e=>{e.name=`${r.name} (Anisotropy Intensity)`,r.anisotropy.texture=e})))),Promise.all(o).then((()=>{}))}}(0,n.Hg)(a),(0,n.Ye)(a,!0,(e=>new i(e)))}}]);