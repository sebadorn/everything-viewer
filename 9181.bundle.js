"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[9181],{19181:(t,e,r)=>{r.r(e),r.d(e,{FlowGraphCrossBlock:()=>d,FlowGraphDotBlock:()=>p,FlowGraphLengthBlock:()=>h,FlowGraphNormalizeBlock:()=>u,FlowGraphRotate2DBlock:()=>m,FlowGraphRotate3DBlock:()=>w,FlowGraphTransformBlock:()=>x,FlowGraphTransformCoordinatesBlock:()=>g});var s=r(4720),o=r(56552),a=r(77467),c=r(63318),l=r(79923),i=r(70210),n=r(4686);class h extends c.a{constructor(t){super(s.Vv,s.Es,(t=>this._polymorphicLength(t)),"FlowGraphLengthBlock",t)}_polymorphicLength(t){switch((0,n.sN)(t)){case"Vector2":case"Vector3":case"Vector4":return t.length();default:throw new Error(`Cannot compute length of value ${t}`)}}}(0,o.Y5)("FlowGraphLengthBlock",h);class u extends c.a{constructor(t){super(s.Vv,s.Vv,(t=>this._polymorphicNormalize(t)),"FlowGraphNormalizeBlock",t)}_polymorphicNormalize(t){let e;switch((0,n.sN)(t)){case"Vector2":case"Vector3":case"Vector4":if(e=t.normalizeToNew(),this.config?.nanOnZeroLength){0===t.length()&&e.setAll(NaN)}return e;default:throw new Error(`Cannot normalize value ${t}`)}}}(0,o.Y5)("FlowGraphNormalizeBlock",u);class p extends a.W{constructor(t){super(s.Vv,s.Vv,s.Es,((t,e)=>this._polymorphicDot(t,e)),"FlowGraphDotBlock",t)}_polymorphicDot(t,e){switch((0,n.sN)(t)){case"Vector2":case"Vector3":case"Vector4":return t.dot(e);default:throw new Error(`Cannot get dot product of ${t} and ${e}`)}}}(0,o.Y5)("FlowGraphDotBlock",p);class d extends a.W{constructor(t){super(s.Dx,s.Dx,s.Dx,((t,e)=>l.Pq.Cross(t,e)),"FlowGraphCrossBlock",t)}}(0,o.Y5)("FlowGraphCrossBlock",d);class m extends a.W{constructor(t){super(s.K$,s.Es,s.K$,((t,e)=>l.I9.Transform(t,l.uq.RotationZ(e))),"FlowGraphRotate2DBlock",t)}}(0,o.Y5)("FlowGraphRotate2DBlock",m);class w extends i.q{constructor(t){super(s.Dx,s.Dx,s.Es,s.Dx,((t,e,r)=>l.Pq.TransformCoordinates(t,l.uq.RotationAxis(e,r))),"FlowGraphRotate3DBlock",t)}}function V(t,e){switch((0,n.sN)(t)){case"Vector2":case"Vector3":return e.transformVector(t);case"Vector4":return new l.IU(t.x*e.m[0]+t.y*e.m[1]+t.z*e.m[2]+t.w*e.m[3],t.x*e.m[4]+t.y*e.m[5]+t.z*e.m[6]+t.w*e.m[7],t.x*e.m[8]+t.y*e.m[9]+t.z*e.m[10]+t.w*e.m[11],t.x*e.m[12]+t.y*e.m[13]+t.z*e.m[14]+t.w*e.m[15]);default:throw new Error(`Cannot transform value ${t}`)}}(0,o.Y5)("FlowGraphRotate3DBlock",w);class x extends a.W{constructor(t){const e=t?.vectorType||"Vector3",r="Vector2"===e?"Matrix2D":"Vector3"===e?"Matrix3D":"Matrix";super((0,s.Yd)(e),(0,s.Yd)(r),(0,s.Yd)(e),V,"FlowGraphTransformVectorBlock",t)}}(0,o.Y5)("FlowGraphTransformVectorBlock",x);class g extends a.W{constructor(t){super(s.Dx,s.Sp,s.Dx,((t,e)=>l.Pq.TransformCoordinates(t,e)),"FlowGraphTransformCoordinatesBlock",t)}}(0,o.Y5)("FlowGraphTransformCoordinatesBlock",g)},63318:(t,e,r)=>{r.d(e,{a:()=>o});var s=r(94423);class o extends s.r{constructor(t,e,r,s,o){super(e,o),this._operation=r,this._className=s,this.a=this.registerDataInput("a",t)}_doOperation(t){return this._operation(this.a.getValue(t))}getClassName(){return this._className}}},70210:(t,e,r)=>{r.d(e,{q:()=>o});var s=r(94423);class o extends s.r{constructor(t,e,r,s,o,a,c){super(s,c),this._operation=o,this._className=a,this.a=this.registerDataInput("a",t),this.b=this.registerDataInput("b",e),this.c=this.registerDataInput("c",r)}_doOperation(t){return this._operation(this.a.getValue(t),this.b.getValue(t),this.c.getValue(t))}getClassName(){return this._className}}},77467:(t,e,r)=>{r.d(e,{W:()=>o});var s=r(94423);class o extends s.r{constructor(t,e,r,s,o,a){super(r,a),this._operation=s,this._className=o,this.a=this.registerDataInput("a",t),this.b=this.registerDataInput("b",e)}_doOperation(t){const e=this.a.getValue(t),r=this.b.getValue(t);return this._operation(e,r)}getClassName(){return this._className}}},94423:(t,e,r)=>{r.d(e,{r:()=>l});var s=r(71294),o=r(4720);const a="cachedOperationValue",c="cachedExecutionId";class l extends s.e{constructor(t,e){super(e),this.value=this.registerDataOutput("value",t),this.isValid=this.registerDataOutput("isValid",o.RI)}_updateOutputs(t){const e=t._getExecutionVariable(this,c,-1),r=t._getExecutionVariable(this,a,null);if(null!=r&&e===t.executionId)this.isValid.setValue(!0,t),this.value.setValue(r,t);else try{const e=this._doOperation(t);if(null==e)return void this.isValid.setValue(!1,t);t._setExecutionVariable(this,a,e),t._setExecutionVariable(this,c,t.executionId),this.value.setValue(e,t),this.isValid.setValue(!0,t)}catch(e){this.isValid.setValue(!1,t)}}}}}]);