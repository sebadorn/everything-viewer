"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[8845],{39443:(e,t,a)=>{a.d(t,{e:()=>s});var i=a(19108),n=(a(81094),a(42109));class s extends i.u{constructor(e){super(),this._buttons=e}_toggle(e){this._buttons.forEach(e=>e._node.classList.remove("selected")),e._node.classList.add("selected")}render(){super.render(),this._node=n.UI.build('<div class="button-group"></div>');for(let e=0;e<this._buttons.length;e++){const t=this._buttons[e];t.on("click",()=>this._toggle(t)),this._node.append(t.render())}return this._node}}},51413:(e,t,a)=>{a.d(t,{TextView:()=>h});var i=a(45691),n=a(81094),s=a(39443),r=a(15287);class h extends r.P{static _imports={};constructor(e){super(e,"text"),this._originalText="",this._formatted=null}_buildButtonsJson(e){return new s.e([new n.$({text:"Original",classes:"selected",onClick:()=>{delete e.dataset.highlighted,e.innerHTML="",e.textContent=this._originalText,h.hljs.highlightElement(e),h.hljs.lineNumbersBlock(e)}}),new n.$({text:"Formatted",onClick:()=>{let t=this._originalText;if(this._formatted)t=this._formatted;else try{t=JSON.parse(this._originalText),t=JSON.stringify(t,null,2),this._formatted=t}catch(e){console.error("[TextView._buildButtonsJson]",e.message),window.alert(e.message)}delete e.dataset.highlighted,e.innerHTML="",e.textContent=t,h.hljs.highlightElement(e),h.hljs.lineNumbersBlock(e)}})])}static async initHljs(e){if(h.hljs||(h.hljs=window.hljs=(await a.e(3136).then(a.bind(a,50011))).default,await a.e(3463).then(a.t.bind(a,85079,23)),h.hljs.initLineNumbersOnLoad({singleLine:!0})),e&&!h._imports[e]){let t=null;switch(e){case"apache":t=await a.e(7652).then(a.bind(a,50302));break;case"bash":t=await a.e(8140).then(a.bind(a,69510));break;case"c":t=await a.e(1957).then(a.bind(a,52711));break;case"cmake":t=await a.e(2383).then(a.bind(a,67237));break;case"cpp":t=await a.e(7437).then(a.bind(a,34887));break;case"csharp":t=await a.e(3879).then(a.bind(a,77435));break;case"css":t=await a.e(9223).then(a.bind(a,92753));break;case"d":t=await a.e(5754).then(a.bind(a,33030));break;case"dart":t=await a.e(1089).then(a.bind(a,8605));break;case"diff":t=await a.e(9255).then(a.bind(a,76551));break;case"dns":case"zone":t=await a.e(3659).then(a.bind(a,73561));break;case"glsl":t=await a.e(5614).then(a.bind(a,19476));break;case"ini":t=await a.e(5720).then(a.bind(a,56e3));break;case"java":t=await a.e(9762).then(a.bind(a,83736));break;case"javascript":t=await a.e(6527).then(a.bind(a,15603));break;case"json":t=await a.e(792).then(a.bind(a,27402));break;case"latex":t=await a.e(8794).then(a.bind(a,4598));break;case"less":t=await a.e(9077).then(a.bind(a,74145));break;case"lua":t=await a.e(9656).then(a.bind(a,22328));break;case"makefile":t=await a.e(1974).then(a.bind(a,83308));break;case"markdown":t=await a.e(1617).then(a.bind(a,33265));break;case"php":t=await a.e(1910).then(a.bind(a,95130));break;case"powershell":t=await a.e(8265).then(a.bind(a,71569));break;case"properties":t=await a.e(4209).then(a.bind(a,82829));break;case"python":t=await a.e(2232).then(a.bind(a,85262));break;case"ruby":t=await a.e(1418).then(a.bind(a,99928));break;case"rust":t=await a.e(4228).then(a.bind(a,67206));break;case"scss":t=await a.e(9486).then(a.bind(a,12068));break;case"sql":t=await a.e(3038).then(a.bind(a,57470));break;case"typescript":t=await a.e(8311).then(a.bind(a,95387));break;case"xml":t=await a.e(5529).then(a.bind(a,69359));break;case"yaml":t=await a.e(9095).then(a.bind(a,36347));break;default:console.warn("[TextView.initHljs] Language not found: "+e)}t&&(h._imports[e]=!0,h.hljs.registerLanguage(e,t.default))}return h.hljs}async load(){const e=i.n.detectLanguage(this.parser.file,this.parser.mimeType),t=document.createElement("div");if(t.className="code","json"===e){const e=this._buildButtonsJson(t);this.nodeView.appendChild(e.render())}this.nodeView.appendChild(t);const a=await this.parser.getText();this._originalText=a,t.textContent=a;const n=await h.initHljs(e);e&&(t.className+=" language-"+e,n.highlightElement(t),this.mdAdd("Language",e)),n.lineNumbersBlock(t),this.mdAdd("Lines",(a.match(/\n/g)||[]).length),this.buildMetaNode(),this._openWindow({width:1e3})}}}}]);