"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[5870],{25870:(e,r,t)=>{t.d(r,{MSFT_sRGBFactors:()=>n});var o=t(23975),s=t(45316),i=t(37812);const a="MSFT_sRGBFactors";class n{constructor(e){this.name=a,this._loader=e,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,r,t){return s.BT.LoadExtraAsync(e,r,this.name,((s,i)=>{if(i){if(!(t instanceof o.Y))throw new Error(`${s}: Material type not supported`);const i=this._loader.loadMaterialPropertiesAsync(e,r,t),a=t.getScene().getEngine().useExactSrgbConversions;return t.albedoTexture||t.albedoColor.toLinearSpaceToRef(t.albedoColor,a),t.reflectivityTexture||t.reflectivityColor.toLinearSpaceToRef(t.reflectivityColor,a),i}return null}))}}(0,i.Hg)(a),(0,i.Ye)(a,!0,(e=>new n(e)))}}]);