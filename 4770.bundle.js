"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[4770],{84770:(e,r,a)=>{a.d(r,{KHR_materials_unlit:()=>l});var t=a(26041),s=a(98556),o=a(37812);const i="KHR_materials_unlit";class l{constructor(e){this.name=i,this.order=210,this._loader=e,this.enabled=this._loader.isExtensionUsed(i)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,r,a){return s.BT.LoadExtensionAsync(e,r,this.name,async()=>await this._loadUnlitPropertiesAsync(e,r,a))}_loadUnlitPropertiesAsync(e,r,a){const s=this._loader._getOrCreateMaterialAdapter(a),o=new Array,i=r.pbrMetallicRoughness;return i&&(i.baseColorFactor&&(s.baseColor=t.v9.FromArray(i.baseColorFactor),s.geometryOpacity=i.baseColorFactor[3]),i.baseColorTexture&&o.push(this._loader.loadTextureInfoAsync(`${e}/baseColorTexture`,i.baseColorTexture,e=>{e.name=`${a.name} (Base Color)`,s.baseColorTexture=e}))),s.isUnlit=!0,r.doubleSided&&(s.backFaceCulling=!1,s.twoSidedLighting=!0),this._loader.loadMaterialAlphaProperties(e,r,a),Promise.all(o).then(()=>{})}}(0,o.Hg)(i),(0,o.Ye)(i,!0,e=>new l(e))}}]);