"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[9532],{40136:(e,t,r)=>{r.d(t,{n:()=>c});var o=r(75524),i=r(79259),n=r(14037),a=r(4870),s=r(64704),g=r(83316),u=r(82781),l=r(56552);a.b.AddNodeConstructor("Light_Type_2",(e,t)=>()=>new c(e,n.Pq.Zero(),n.Pq.Zero(),0,0,t));class c extends g.p{get iesProfileTexture(){return this._iesProfileTexture}set iesProfileTexture(e){this._iesProfileTexture!==e&&(this._iesProfileTexture=e,this._iesProfileTexture&&c._IsTexture(this._iesProfileTexture)&&this._iesProfileTexture.onLoadObservable.addOnce(()=>{this._markMeshesAsLightDirty()}))}get angle(){return this._angle}set angle(e){this._angle=e,this._cosHalfAngle=Math.cos(.5*e),this._projectionTextureProjectionLightDirty=!0,this.forceProjectionMatrixCompute(),this._computeAngleValues()}get innerAngle(){return this._innerAngle}set innerAngle(e){this._innerAngle=e,this._computeAngleValues()}get shadowAngleScale(){return this._shadowAngleScale}set shadowAngleScale(e){this._shadowAngleScale=e,this.forceProjectionMatrixCompute()}get projectionTextureMatrix(){return this._projectionTextureMatrix}get projectionTextureLightNear(){return this._projectionTextureLightNear}set projectionTextureLightNear(e){this._projectionTextureLightNear=e,this._projectionTextureProjectionLightDirty=!0}get projectionTextureLightFar(){return this._projectionTextureLightFar}set projectionTextureLightFar(e){this._projectionTextureLightFar=e,this._projectionTextureProjectionLightDirty=!0}get projectionTextureUpDirection(){return this._projectionTextureUpDirection}set projectionTextureUpDirection(e){this._projectionTextureUpDirection=e,this._projectionTextureProjectionLightDirty=!0}get projectionTexture(){return this._projectionTexture}set projectionTexture(e){this._projectionTexture!==e&&(this._projectionTexture=e,this._projectionTextureDirty=!0,this._projectionTexture&&!this._projectionTexture.isReady()&&(c._IsProceduralTexture(this._projectionTexture)?this._projectionTexture.getEffect().executeWhenCompiled(()=>{this._markMeshesAsLightDirty()}):c._IsTexture(this._projectionTexture)&&this._projectionTexture.onLoadObservable.addOnce(()=>{this._markMeshesAsLightDirty()})))}static _IsProceduralTexture(e){return void 0!==e.onGeneratedObservable}static _IsTexture(e){return void 0!==e.onLoadObservable}get projectionTextureProjectionLightMatrix(){return this._projectionTextureProjectionLightMatrix}set projectionTextureProjectionLightMatrix(e){this._projectionTextureProjectionLightMatrix=e,this._projectionTextureProjectionLightDirty=!1,this._projectionTextureDirty=!0}constructor(e,t,r,o,i,a){super(e,a),this._innerAngle=0,this._iesProfileTexture=null,this._projectionTextureMatrix=n.uq.Zero(),this._projectionTextureLightNear=1e-6,this._projectionTextureLightFar=1e3,this._projectionTextureUpDirection=n.Pq.Up(),this._projectionTextureViewLightDirty=!0,this._projectionTextureProjectionLightDirty=!0,this._projectionTextureDirty=!0,this._projectionTextureViewTargetVector=n.Pq.Zero(),this._projectionTextureViewLightMatrix=n.uq.Zero(),this._projectionTextureProjectionLightMatrix=n.uq.Zero(),this._projectionTextureScalingMatrix=n.uq.FromValues(.5,0,0,0,0,.5,0,0,0,0,.5,0,.5,.5,.5,1),this.position=t,this.direction=r,this.angle=o,this.exponent=i}getClassName(){return"SpotLight"}getTypeID(){return s.v.LIGHTTYPEID_SPOTLIGHT}_setDirection(e){super._setDirection(e),this._projectionTextureViewLightDirty=!0}_setPosition(e){super._setPosition(e),this._projectionTextureViewLightDirty=!0}_setDefaultShadowProjectionMatrix(e,t,r){const o=this.getScene().activeCamera;if(!o)return;this._shadowAngleScale=this._shadowAngleScale||1;const i=this._shadowAngleScale*this._angle,a=void 0!==this.shadowMinZ?this.shadowMinZ:o.minZ,s=void 0!==this.shadowMaxZ?this.shadowMaxZ:o.maxZ,g=this.getScene().getEngine().useReverseDepthBuffer;n.uq.PerspectiveFovLHToRef(i,1,g?s:a,g?a:s,e,!0,this._scene.getEngine().isNDCHalfZRange,void 0,g)}_computeProjectionTextureViewLightMatrix(){this._projectionTextureViewLightDirty=!1,this._projectionTextureDirty=!0,this.getAbsolutePosition().addToRef(this.getShadowDirection(),this._projectionTextureViewTargetVector),n.uq.LookAtLHToRef(this.getAbsolutePosition(),this._projectionTextureViewTargetVector,this._projectionTextureUpDirection,this._projectionTextureViewLightMatrix)}_computeProjectionTextureProjectionLightMatrix(){this._projectionTextureProjectionLightDirty=!1,this._projectionTextureDirty=!0;const e=this.projectionTextureLightFar,t=this.projectionTextureLightNear,r=e/(e-t),o=-r*t,i=1/Math.tan(this._angle/2);n.uq.FromValuesToRef(i/1,0,0,0,0,i,0,0,0,0,r,1,0,0,o,0,this._projectionTextureProjectionLightMatrix)}_computeProjectionTextureMatrix(){if(this._projectionTextureDirty=!1,this._projectionTextureViewLightMatrix.multiplyToRef(this._projectionTextureProjectionLightMatrix,this._projectionTextureMatrix),this._projectionTexture instanceof u.g){const e=this._projectionTexture.uScale/2,t=this._projectionTexture.vScale/2;n.uq.FromValuesToRef(e,0,0,0,0,t,0,0,0,0,.5,0,.5,.5,.5,1,this._projectionTextureScalingMatrix)}this._projectionTextureMatrix.multiplyToRef(this._projectionTextureScalingMatrix,this._projectionTextureMatrix)}_buildUniformLayout(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightDirection",3),this._uniformBuffer.addUniform("vLightFalloff",4),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()}_computeAngleValues(){this._lightAngleScale=1/Math.max(.001,Math.cos(.5*this._innerAngle)-this._cosHalfAngle),this._lightAngleOffset=-this._cosHalfAngle*this._lightAngleScale}transferTexturesToEffect(e,t){return this.projectionTexture&&this.projectionTexture.isReady()&&(this._projectionTextureViewLightDirty&&this._computeProjectionTextureViewLightMatrix(),this._projectionTextureProjectionLightDirty&&this._computeProjectionTextureProjectionLightMatrix(),this._projectionTextureDirty&&this._computeProjectionTextureMatrix(),e.setMatrix("textureProjectionMatrix"+t,this._projectionTextureMatrix),e.setTexture("projectionLightTexture"+t,this.projectionTexture)),this._iesProfileTexture&&this._iesProfileTexture.isReady()&&e.setTexture("iesLightTexture"+t,this._iesProfileTexture),this}transferToEffect(e,t){let r;return this.computeTransformedInformation()?(this._uniformBuffer.updateFloat4("vLightData",this.transformedPosition.x,this.transformedPosition.y,this.transformedPosition.z,this.exponent,t),r=n.Pq.Normalize(this.transformedDirection)):(this._uniformBuffer.updateFloat4("vLightData",this.position.x,this.position.y,this.position.z,this.exponent,t),r=n.Pq.Normalize(this.direction)),this._uniformBuffer.updateFloat4("vLightDirection",r.x,r.y,r.z,this._cosHalfAngle,t),this._uniformBuffer.updateFloat4("vLightFalloff",this.range,this._inverseSquaredRange,this._lightAngleScale,this._lightAngleOffset,t),this}transferToNodeMaterialEffect(e,t){let r;return r=this.computeTransformedInformation()?n.Pq.Normalize(this.transformedDirection):n.Pq.Normalize(this.direction),this.getScene().useRightHandedSystem?e.setFloat3(t,-r.x,-r.y,-r.z):e.setFloat3(t,r.x,r.y,r.z),this}dispose(){super.dispose(),this._projectionTexture&&this._projectionTexture.dispose(),this._iesProfileTexture&&(this._iesProfileTexture.dispose(),this._iesProfileTexture=null)}getDepthMinZ(e){const t=this._scene.getEngine(),r=void 0!==this.shadowMinZ?this.shadowMinZ:e?.minZ??0;return t.useReverseDepthBuffer&&t.isNDCHalfZRange?r:this._scene.getEngine().isNDCHalfZRange?0:r}getDepthMaxZ(e){const t=this._scene.getEngine(),r=void 0!==this.shadowMaxZ?this.shadowMaxZ:e?.maxZ??1e4;return t.useReverseDepthBuffer&&t.isNDCHalfZRange?0:r}prepareLightSpecificDefines(e,t){e["SPOTLIGHT"+t]=!0,e["PROJECTEDLIGHTTEXTURE"+t]=!(!this.projectionTexture||!this.projectionTexture.isReady()),e["IESLIGHTTEXTURE"+t]=!(!this._iesProfileTexture||!this._iesProfileTexture.isReady())}}(0,o.Cg)([(0,i.lK)()],c.prototype,"angle",null),(0,o.Cg)([(0,i.lK)()],c.prototype,"innerAngle",null),(0,o.Cg)([(0,i.lK)()],c.prototype,"shadowAngleScale",null),(0,o.Cg)([(0,i.lK)()],c.prototype,"exponent",void 0),(0,o.Cg)([(0,i.lK)()],c.prototype,"projectionTextureLightNear",null),(0,o.Cg)([(0,i.lK)()],c.prototype,"projectionTextureLightFar",null),(0,o.Cg)([(0,i.lK)()],c.prototype,"projectionTextureUpDirection",null),(0,o.Cg)([(0,i.uM)("projectedLightTexture")],c.prototype,"_projectionTexture",void 0),(0,l.Y5)("BABYLON.SpotLight",c)},49532:(e,t,r)=>{r.d(t,{oR:()=>y,tQ:()=>p,Wt:()=>h,ZU:()=>m});var o=r(14037),i=r(96125),n=r(26041),a=r(40136);const s=[{regex:new RegExp("^/nodes/\\d+/extensions/")}];class g{constructor(e,t){this._gltf=e,this._infoTree=t}convert(e){let t,r=this._gltf,o=this._infoTree;if(!e.startsWith("/"))throw new Error("Path must start with a /");const i=e.split("/");if(i.shift(),i[i.length-1].includes(".length")){const e=i[i.length-1].split(".");i.pop(),i.push(...e)}let n=!1;for(const a of i){const i="length"===a;if(i&&!o.__array__)throw new Error(`Path ${e} is invalid`);if(o.__ignoreObjectTree__&&(n=!0),o.__array__&&!i)o=o.__array__;else if(o=o[a],!o)throw new Error(`Path ${e} is invalid`);if(!n)if(void 0===r){if(!s.find(t=>t.regex.test(e)))throw new Error(`Path ${e} is invalid`)}else i||(r=r?.[a]);(o.__target__||i)&&(t=r)}return{object:t,info:o}}}function u(e,t,r,o){const i=l(e,t);return o?i[r][o]:i[r]}function l(e,t,r){return e._data?.[r?.fillMode??i.Y.MATERIAL_TriangleFillMode]?.babylonMaterial}function c(e,t){return{offset:{componentsCount:2,type:"Vector2",get:(r,i,n)=>{const a=u(r,n,e,t);return new o.I9(a?.uOffset,a?.vOffset)},getTarget:l,set:(r,o,i,n)=>{const a=u(o,n,e,t);a.uOffset=r.x,a.vOffset=r.y},getPropertyName:[()=>`${e}${t?"."+t:""}.uOffset`,()=>`${e}${t?"."+t:""}.vOffset`]},rotation:{type:"number",get:(r,o,i)=>u(r,i,e,t)?.wAng,getTarget:l,set:(r,o,i,n)=>u(o,n,e,t).wAng=r,getPropertyName:[()=>`${e}${t?"."+t:""}.wAng`]},scale:{componentsCount:2,type:"Vector2",get:(r,i,n)=>{const a=u(r,n,e,t);return new o.I9(a?.uScale,a?.vScale)},getTarget:l,set:(r,o,i,n)=>{const a=u(o,n,e,t);a.uScale=r.x,a.vScale=r.y},getPropertyName:[()=>`${e}${t?"."+t:""}.uScale`,()=>`${e}${t?"."+t:""}.vScale`]}}}const _={cameras:{__array__:{__target__:!0,orthographic:{xmag:{componentsCount:2,type:"Vector2",get:e=>new o.I9(e._babylonCamera?.orthoLeft??0,e._babylonCamera?.orthoRight??0),set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.orthoLeft=e.x,t._babylonCamera.orthoRight=e.y)},getTarget:e=>e,getPropertyName:[()=>"orthoLeft",()=>"orthoRight"]},ymag:{componentsCount:2,type:"Vector2",get:e=>new o.I9(e._babylonCamera?.orthoBottom??0,e._babylonCamera?.orthoTop??0),set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.orthoBottom=e.x,t._babylonCamera.orthoTop=e.y)},getTarget:e=>e,getPropertyName:[()=>"orthoBottom",()=>"orthoTop"]},zfar:{type:"number",get:e=>e._babylonCamera?.maxZ,set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.maxZ=e)},getTarget:e=>e,getPropertyName:[()=>"maxZ"]},znear:{type:"number",get:e=>e._babylonCamera?.minZ,set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.minZ=e)},getTarget:e=>e,getPropertyName:[()=>"minZ"]}},perspective:{aspectRatio:{type:"number",get:e=>e._babylonCamera?.getEngine().getAspectRatio(e._babylonCamera),getTarget:e=>e,getPropertyName:[()=>"aspectRatio"],isReadOnly:!0},yfov:{type:"number",get:e=>e._babylonCamera?.fov,set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.fov=e)},getTarget:e=>e,getPropertyName:[()=>"fov"]},zfar:{type:"number",get:e=>e._babylonCamera?.maxZ,set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.maxZ=e)},getTarget:e=>e,getPropertyName:[()=>"maxZ"]},znear:{type:"number",get:e=>e._babylonCamera?.minZ,set:(e,t)=>{t._babylonCamera&&(t._babylonCamera.minZ=e)},getTarget:e=>e,getPropertyName:[()=>"minZ"]}}}},nodes:{length:{type:"number",get:e=>e.length,getTarget:e=>e.map(e=>e._babylonTransformNode),getPropertyName:[()=>"length"]},__array__:{__target__:!0,translation:{type:"Vector3",get:e=>e._babylonTransformNode?.position,set:(e,t)=>t._babylonTransformNode?.position.copyFrom(e),getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"position"]},rotation:{type:"Quaternion",get:e=>e._babylonTransformNode?.rotationQuaternion,set:(e,t)=>t._babylonTransformNode?.rotationQuaternion?.copyFrom(e),getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"rotationQuaternion"]},scale:{type:"Vector3",get:e=>e._babylonTransformNode?.scaling,set:(e,t)=>t._babylonTransformNode?.scaling.copyFrom(e),getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"scaling"]},weights:{length:{type:"number",get:e=>e._numMorphTargets,getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"influence"]},__array__:{__target__:!0,type:"number",get:(e,t)=>void 0!==t?e._primitiveBabylonMeshes?.[0].morphTargetManager?.getTarget(t).influence:void 0,getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"influence"]},type:"number[]",get:(e,t)=>[0],getTarget:e=>e._babylonTransformNode,getPropertyName:[()=>"influence"]},matrix:{type:"Matrix",get:e=>o.uq.Compose(e._babylonTransformNode?.scaling,e._babylonTransformNode?.rotationQuaternion,e._babylonTransformNode?.position),getTarget:e=>e._babylonTransformNode,isReadOnly:!0},globalMatrix:{type:"Matrix",get:e=>{const t=o.uq.Identity();let r=e.parent;for(;r&&r.parent;)r=r.parent;const i=e._babylonTransformNode?.position._isDirty||e._babylonTransformNode?.rotationQuaternion?._isDirty||e._babylonTransformNode?.scaling._isDirty;if(r){const o=r._babylonTransformNode?.computeWorldMatrix(!0).invert();o&&e._babylonTransformNode?.computeWorldMatrix(i)?.multiplyToRef(o,t)}else e._babylonTransformNode&&t.copyFrom(e._babylonTransformNode.computeWorldMatrix(i));return t},getTarget:e=>e._babylonTransformNode,isReadOnly:!0},extensions:{EXT_lights_ies:{multiplier:{type:"number",get:e=>e._babylonTransformNode?.getChildren(e=>e instanceof a.n,!0)[0]?.intensity,getTarget:e=>e._babylonTransformNode?.getChildren(e=>e instanceof a.n,!0)[0],set:(e,t)=>{if(t._babylonTransformNode){const r=t._babylonTransformNode.getChildren(e=>e instanceof a.n,!0)[0];r&&(r.intensity=e)}}},color:{type:"Color3",get:e=>e._babylonTransformNode?.getChildren(e=>e instanceof a.n,!0)[0]?.diffuse,getTarget:e=>e._babylonTransformNode?.getChildren(e=>e instanceof a.n,!0)[0],set:(e,t)=>{if(t._babylonTransformNode){const r=t._babylonTransformNode.getChildren(e=>e instanceof a.n,!0)[0];r&&(r.diffuse=e)}}}}}}},materials:{__array__:{__target__:!0,emissiveFactor:{type:"Color3",get:(e,t,r)=>l(e,t,r).emissiveColor,set:(e,t,r,o)=>l(t,r,o).emissiveColor.copyFrom(e),getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"emissiveColor"]},emissiveTexture:{extensions:{KHR_texture_transform:c("emissiveTexture")}},normalTexture:{scale:{type:"number",get:(e,t,r)=>u(e,r,"bumpTexture")?.level,set:(e,t,r,o)=>{const i=u(t,o,"bumpTexture");i&&(i.level=e)},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"level"]},extensions:{KHR_texture_transform:c("bumpTexture")}},occlusionTexture:{strength:{type:"number",get:(e,t,r)=>l(e,t,r).ambientTextureStrength,set:(e,t,r,o)=>{const i=l(t,r,o);i&&(i.ambientTextureStrength=e)},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"ambientTextureStrength"]},extensions:{KHR_texture_transform:c("ambientTexture")}},pbrMetallicRoughness:{baseColorFactor:{type:"Color4",get:(e,t,r)=>{const o=l(e,t,r);return n.ov.FromColor3(o.albedoColor,o.alpha)},set:(e,t,r,o)=>{const i=l(t,r,o);i.albedoColor.set(e.r,e.g,e.b),i.alpha=e.a},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"albedoColor",()=>"alpha"]},baseColorTexture:{extensions:{KHR_texture_transform:c("albedoTexture")}},metallicFactor:{type:"number",get:(e,t,r)=>l(e,t,r).metallic,set:(e,t,r,o)=>{const i=l(t,r,o);i&&(i.metallic=e)},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"metallic"]},roughnessFactor:{type:"number",get:(e,t,r)=>l(e,t,r).roughness,set:(e,t,r,o)=>{const i=l(t,r,o);i&&(i.roughness=e)},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"roughness"]},metallicRoughnessTexture:{extensions:{KHR_texture_transform:c("metallicTexture")}}},extensions:{KHR_materials_anisotropy:{anisotropyStrength:{type:"number",get:(e,t,r)=>l(e,t,r).anisotropy.intensity,set:(e,t,r,o)=>{l(t,r,o).anisotropy.intensity=e},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"anisotropy.intensity"]},anisotropyRotation:{type:"number",get:(e,t,r)=>l(e,t,r).anisotropy.angle,set:(e,t,r,o)=>{l(t,r,o).anisotropy.angle=e},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"anisotropy.angle"]},anisotropyTexture:{extensions:{KHR_texture_transform:c("anisotropy","texture")}}},KHR_materials_clearcoat:{clearcoatFactor:{type:"number",get:(e,t,r)=>l(e,t,r).clearCoat.intensity,set:(e,t,r,o)=>{l(t,r,o).clearCoat.intensity=e},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"clearCoat.intensity"]},clearcoatRoughnessFactor:{type:"number",get:(e,t,r)=>l(e,t,r).clearCoat.roughness,set:(e,t,r,o)=>{l(t,r,o).clearCoat.roughness=e},getTarget:(e,t,r)=>l(e,t,r),getPropertyName:[()=>"clearCoat.roughness"]},clearcoatTexture:{extensions:{KHR_texture_transform:c("clearCoat","texture")}},clearcoatNormalTexture:{scale:{type:"number",get:(e,t,r)=>l(e,t,r).clearCoat.bumpTexture?.level,getTarget:l,set:(e,t,r,o)=>l(t,r,o).clearCoat.bumpTexture.level=e},extensions:{KHR_texture_transform:c("clearCoat","bumpTexture")}},clearcoatRoughnessTexture:{extensions:{KHR_texture_transform:c("clearCoat","textureRoughness")}}},KHR_materials_dispersion:{dispersion:{type:"number",get:(e,t,r)=>l(e,t,r).subSurface.dispersion,getTarget:l,set:(e,t,r,o)=>l(t,r,o).subSurface.dispersion=e}},KHR_materials_emissive_strength:{emissiveStrength:{type:"number",get:(e,t,r)=>l(e,t,r).emissiveIntensity,getTarget:l,set:(e,t,r,o)=>l(t,r,o).emissiveIntensity=e}},KHR_materials_ior:{ior:{type:"number",get:(e,t,r)=>l(e,t,r).indexOfRefraction,getTarget:l,set:(e,t,r,o)=>l(t,r,o).indexOfRefraction=e}},KHR_materials_iridescence:{iridescenceFactor:{type:"number",get:(e,t,r)=>l(e,t,r).iridescence.intensity,getTarget:l,set:(e,t,r,o)=>l(t,r,o).iridescence.intensity=e},iridescenceIor:{type:"number",get:(e,t,r)=>l(e,t,r).iridescence.indexOfRefraction,getTarget:l,set:(e,t,r,o)=>l(t,r,o).iridescence.indexOfRefraction=e},iridescenceTexture:{extensions:{KHR_texture_transform:c("iridescence","texture")}},iridescenceThicknessMaximum:{type:"number",get:(e,t,r)=>l(e,t,r).iridescence.maximumThickness,getTarget:l,set:(e,t,r,o)=>l(t,r,o).iridescence.maximumThickness=e},iridescenceThicknessMinimum:{type:"number",get:(e,t,r)=>l(e,t,r).iridescence.minimumThickness,getTarget:l,set:(e,t,r,o)=>l(t,r,o).iridescence.minimumThickness=e},iridescenceThicknessTexture:{extensions:{KHR_texture_transform:c("iridescence","thicknessTexture")}}},KHR_materials_sheen:{sheenColorFactor:{type:"Color3",get:(e,t,r)=>l(e,t,r).sheen.color,getTarget:l,set:(e,t,r,o)=>l(t,r,o).sheen.color.copyFrom(e)},sheenColorTexture:{extensions:{KHR_texture_transform:c("sheen","texture")}},sheenRoughnessFactor:{type:"number",get:(e,t,r)=>l(e,t,r).sheen.intensity,getTarget:l,set:(e,t,r,o)=>l(t,r,o).sheen.intensity=e},sheenRoughnessTexture:{extensions:{KHR_texture_transform:c("sheen","thicknessTexture")}}},KHR_materials_specular:{specularFactor:{type:"number",get:(e,t,r)=>l(e,t,r).metallicF0Factor,getTarget:l,set:(e,t,r,o)=>l(t,r,o).metallicF0Factor=e,getPropertyName:[()=>"metallicF0Factor"]},specularColorFactor:{type:"Color3",get:(e,t,r)=>l(e,t,r).metallicReflectanceColor,getTarget:l,set:(e,t,r,o)=>l(t,r,o).metallicReflectanceColor.copyFrom(e),getPropertyName:[()=>"metallicReflectanceColor"]},specularTexture:{extensions:{KHR_texture_transform:c("metallicReflectanceTexture")}},specularColorTexture:{extensions:{KHR_texture_transform:c("reflectanceTexture")}}},KHR_materials_transmission:{transmissionFactor:{type:"number",get:(e,t,r)=>l(e,t,r).subSurface.refractionIntensity,getTarget:l,set:(e,t,r,o)=>l(t,r,o).subSurface.refractionIntensity=e,getPropertyName:[()=>"subSurface.refractionIntensity"]},transmissionTexture:{extensions:{KHR_texture_transform:c("subSurface","refractionIntensityTexture")}}},KHR_materials_diffuse_transmission:{diffuseTransmissionFactor:{type:"number",get:(e,t,r)=>l(e,t,r).subSurface.translucencyIntensity,getTarget:l,set:(e,t,r,o)=>l(t,r,o).subSurface.translucencyIntensity=e},diffuseTransmissionTexture:{extensions:{KHR_texture_transform:c("subSurface","translucencyIntensityTexture")}},diffuseTransmissionColorFactor:{type:"Color3",get:(e,t,r)=>l(e,t,r).subSurface.translucencyColor,getTarget:l,set:(e,t,r,o)=>e&&l(t,r,o).subSurface.translucencyColor?.copyFrom(e)},diffuseTransmissionColorTexture:{extensions:{KHR_texture_transform:c("subSurface","translucencyColorTexture")}}},KHR_materials_volume:{attenuationColor:{type:"Color3",get:(e,t,r)=>l(e,t,r).subSurface.tintColor,getTarget:l,set:(e,t,r,o)=>l(t,r,o).subSurface.tintColor.copyFrom(e)},attenuationDistance:{type:"number",get:(e,t,r)=>l(e,t,r).subSurface.tintColorAtDistance,getTarget:l,set:(e,t,r,o)=>l(t,r,o).subSurface.tintColorAtDistance=e},thicknessFactor:{type:"number",get:(e,t,r)=>l(e,t,r).subSurface.maximumThickness,getTarget:l,set:(e,t,r,o)=>l(t,r,o).subSurface.maximumThickness=e},thicknessTexture:{extensions:{KHR_texture_transform:c("subSurface","thicknessTexture")}}}}}},extensions:{KHR_lights_punctual:{lights:{length:{type:"number",get:e=>e.length,getTarget:e=>e.map(e=>e._babylonLight),getPropertyName:[e=>"length"]},__array__:{__target__:!0,color:{type:"Color3",get:e=>e._babylonLight?.diffuse,set:(e,t)=>t._babylonLight?.diffuse.copyFrom(e),getTarget:e=>e._babylonLight,getPropertyName:[e=>"diffuse"]},intensity:{type:"number",get:e=>e._babylonLight?.intensity,set:(e,t)=>t._babylonLight?t._babylonLight.intensity=e:void 0,getTarget:e=>e._babylonLight,getPropertyName:[e=>"intensity"]},range:{type:"number",get:e=>e._babylonLight?.range,set:(e,t)=>t._babylonLight?t._babylonLight.range=e:void 0,getTarget:e=>e._babylonLight,getPropertyName:[e=>"range"]},spot:{innerConeAngle:{type:"number",get:e=>e._babylonLight?.innerAngle,set:(e,t)=>t._babylonLight?t._babylonLight.innerAngle=e:void 0,getTarget:e=>e._babylonLight,getPropertyName:[e=>"innerConeAngle"]},outerConeAngle:{type:"number",get:e=>e._babylonLight?.angle,set:(e,t)=>t._babylonLight?t._babylonLight.angle=e:void 0,getTarget:e=>e._babylonLight,getPropertyName:[e=>"outerConeAngle"]}}}}},EXT_lights_ies:{lights:{length:{type:"number",get:e=>e.length,getTarget:e=>e.map(e=>e._babylonLight),getPropertyName:[e=>"length"]}}},EXT_lights_image_based:{lights:{length:{type:"number",get:e=>e.length,getTarget:e=>e.map(e=>e._babylonTexture),getPropertyName:[e=>"length"]},__array__:{__target__:!0,intensity:{type:"number",get:e=>e._babylonTexture?.level,set:(e,t)=>{t._babylonTexture&&(t._babylonTexture.level=e)},getTarget:e=>e._babylonTexture},rotation:{type:"Quaternion",get:e=>e._babylonTexture&&o.PT.FromRotationMatrix(e._babylonTexture?.getReflectionTextureMatrix()),set:(e,t)=>{t._babylonTexture&&(t._babylonTexture.getScene()?.useRightHandedSystem||(e=o.PT.Inverse(e)),o.uq.FromQuaternionToRef(e,t._babylonTexture.getReflectionTextureMatrix()))},getTarget:e=>e._babylonTexture}}}}},animations:{length:{type:"number",get:e=>e.length,getTarget:e=>e.map(e=>e._babylonAnimationGroup),getPropertyName:[()=>"length"]},__array__:{}},meshes:{length:{type:"number",get:e=>e.length,getTarget:e=>e.map(e=>e.primitives[0]._instanceData?.babylonSourceMesh),getPropertyName:[()=>"length"]},__array__:{}}};function h(e){return new g(e,_)}function p(e){const t=e.split("/").map(e=>e.replace(/{}/g,"__array__"));let r=_;for(const e of t)e&&(r=r[e]);if(r&&r.type&&r.get)return r}function m(e,t){const r=e.split("/").map(e=>e.replace(/{}/g,"__array__"));let o=_;for(const e of r)e&&(o=o[e]);o&&o.type&&o.get&&(o.interpolation=t)}function y(e,t){const r=e.split("/").map(e=>e.replace(/{}/g,"__array__"));let o=_;for(const e of r)if(e){if(!o[e]){if("?"===e){o.__ignoreObjectTree__=!0;continue}o[e]={},"__array__"===e&&(o[e].__target__=!0)}o=o[e]}Object.assign(o,t)}}}]);