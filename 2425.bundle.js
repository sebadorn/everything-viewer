"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[2425],{50855:(e,t,n)=>{n.d(t,{ZIPParser:()=>o});var s=n(45691),a=n(42109),c=n(62845);class o extends c.V{constructor(e,t){super(e,t)}build(e){const t=document.createElement("table");t.className="zip";const n=document.createElement("th");n.className="name",n.textContent="Name";const s=document.createElement("th");s.className="size",s.textContent="Size";const c=document.createElement("th");c.className="date",c.textContent="Date";const o=document.createElement("tr");o.className="head",o.append(n,s,c),t.append(o),this.uncompressedSize=0;for(const n in e.files){const s=e.files[n];let c=s.name,o=(s.name.match(/\//g)||[]).length;s.dir?(o--,c=c.split("/").slice(-2,-1)+"/"):c=c.split("/").pop();const i="··".repeat(o),d=document.createElement("span");d.className="indent",d.textContent=i;const m=document.createElement("span");m.className="text",m.textContent=c;const r=document.createElement("td");r.className="name",r.append(d,this.getIconElement(s),m);const l=document.createElement("td");l.className="size",l.textContent=s.dir?"":a.UI.formatSize(s._data.uncompressedSize),s.dir||isNaN(Number(s._data.uncompressedSize))||(this.uncompressedSize+=s._data.uncompressedSize);const u=document.createElement("td");u.className="date",u.textContent=a.UI.formatDate(s.date);const p=document.createElement("tr");p.className=s.dir?"zip-dir":"zip-file",p.append(r,l,u),t.append(p)}return t}async getHTML(){const e=await this.getArrayBuffer(),t=await this.parse(e);return this.build(t)}getIconElement(e){const t=document.createElement("span");if(t.className="icon",e.dir)t.textContent="folder_open";else{t.textContent="description";const n=s.n.getFileExt(e);s.n.executableExtensions.includes(n)?t.textContent="terminal":null!==s.n.detectLanguage(e)?t.textContent="code":s.n.imageExtensions.includes(n)?t.textContent="image":s.n.videoExtensions.includes(n)?t.textContent="movie":s.n.audioExtensions.includes(n)&&(t.textContent="music_note"),t.classList.add(t.textContent)}return t}async parse(e){const t=new(0,(await n.e(211).then(n.t.bind(n,71710,23))).default);return await t.loadAsync(e)}}}}]);