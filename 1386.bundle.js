"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[1386],{91386:(e,s,r)=>{r.d(s,{KHR_materials_dispersion:()=>a});var i=r(98556),t=r(37812);const n="KHR_materials_dispersion";class a{constructor(e){this.name=n,this.order=174,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,s,r){return i.BT.LoadExtensionAsync(e,s,this.name,async(i,t)=>{const n=new Array;return n.push(this._loader.loadMaterialPropertiesAsync(e,s,r)),n.push(this._loadDispersionPropertiesAsync(i,s,r,t)),await Promise.all(n).then(()=>{})})}_loadDispersionPropertiesAsync(e,s,r,i){const t=this._loader._getOrCreateMaterialAdapter(r);return t.transmissionWeight>0||!i.dispersion||(t.transmissionDispersionAbbeNumber=20/i.dispersion),Promise.resolve()}}(0,t.Hg)(n),(0,t.Ye)(n,!0,e=>new a(e))}}]);