"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[1386],{91386:(e,s,r)=>{r.d(s,{KHR_materials_dispersion:()=>a});var i=r(23975),n=r(98556),o=r(37812);const t="KHR_materials_dispersion";class a{constructor(e){this.name=t,this.order=174,this._loader=e,this.enabled=this._loader.isExtensionUsed(t)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,s,r){return n.BT.LoadExtensionAsync(e,s,this.name,async(i,n)=>{const o=new Array;return o.push(this._loader.loadMaterialPropertiesAsync(e,s,r)),o.push(this._loadDispersionPropertiesAsync(i,s,r,n)),await Promise.all(o).then(()=>{})})}_loadDispersionPropertiesAsync(e,s,r,n){if(!(r instanceof i.Y))throw new Error(`${e}: Material type not supported`);return r.subSurface.isRefractionEnabled&&n.dispersion?(r.subSurface.isDispersionEnabled=!0,r.subSurface.dispersion=n.dispersion,Promise.resolve()):Promise.resolve()}}(0,o.Hg)(t),(0,o.Ye)(t,!0,e=>new a(e))}}]);