"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[1101],{71101:(e,s,r)=>{r.d(s,{KHR_materials_diffuse_roughness:()=>i});var t=r(98556),n=r(37812);const a="KHR_materials_diffuse_roughness";class i{constructor(e){this.name=a,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,s,r){return t.BT.LoadExtensionAsync(e,s,this.name,async(t,n)=>{const a=new Array;return a.push(this._loader.loadMaterialPropertiesAsync(e,s,r)),a.push(this._loadDiffuseRoughnessPropertiesAsync(t,n,r)),await Promise.all(a).then(()=>{})})}_loadDiffuseRoughnessPropertiesAsync(e,s,r){const t=this._loader._getOrCreateMaterialAdapter(r),n=new Array;return t.baseDiffuseRoughness=s.diffuseRoughnessFactor??0,s.diffuseRoughnessTexture&&n.push(this._loader.loadTextureInfoAsync(`${e}/diffuseRoughnessTexture`,s.diffuseRoughnessTexture,e=>{e.name=`${r.name} (Diffuse Roughness)`,t.baseDiffuseRoughnessTexture=e})),Promise.all(n).then(()=>{})}}(0,n.Hg)(a),(0,n.Ye)(a,!0,e=>new i(e))}}]);