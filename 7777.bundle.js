"use strict";(self.webpackChunkeverything_viewer=self.webpackChunkeverything_viewer||[]).push([[7777],{67777:(e,i,s)=>{s.r(i),s.d(i,{PostProcessRenderPipelineManagerSceneComponent:()=>o});var n=s(16945),r=s(99848);class t{constructor(){this._renderPipelines={},this._onNewPipelineAddedObservable=new r.cP,this._onPipelineRemovedObservable=new r.cP}get onNewPipelineAddedObservable(){return this._onNewPipelineAddedObservable}get onPipelineRemovedObservable(){return this._onPipelineRemovedObservable}get supportedPipelines(){const e=[];for(const i in this._renderPipelines)if(Object.prototype.hasOwnProperty.call(this._renderPipelines,i)){const s=this._renderPipelines[i];s.isSupported&&e.push(s)}return e}addPipeline(e){this.removePipeline(e._name),this._renderPipelines[e._name]=e,this._onNewPipelineAddedObservable.notifyObservers(e)}removePipeline(e){const i=this._renderPipelines[e];i&&(this._onPipelineRemovedObservable.notifyObservers(i),delete this._renderPipelines[e])}attachCamerasToRenderPipeline(e,i,s=!1){const n=this._renderPipelines[e];n&&n._attachCameras(i,s)}detachCamerasFromRenderPipeline(e,i){const s=this._renderPipelines[e];s&&s._detachCameras(i)}enableEffectInPipeline(e,i,s){const n=this._renderPipelines[e];n&&n._enableEffect(i,s)}disableEffectInPipeline(e,i,s){const n=this._renderPipelines[e];n&&n._disableEffect(i,s)}update(){for(const e in this._renderPipelines)if(Object.prototype.hasOwnProperty.call(this._renderPipelines,e)){const i=this._renderPipelines[e];i.isSupported?i._update():(i.dispose(),delete this._renderPipelines[e])}}_rebuild(){for(const e in this._renderPipelines)if(Object.prototype.hasOwnProperty.call(this._renderPipelines,e)){this._renderPipelines[e]._rebuild()}}dispose(){for(const e in this._renderPipelines)if(Object.prototype.hasOwnProperty.call(this._renderPipelines,e)){this._renderPipelines[e].dispose()}}}var p=s(48802);Object.defineProperty(p.Z.prototype,"postProcessRenderPipelineManager",{get:function(){if(!this._postProcessRenderPipelineManager){let e=this._getComponent(n.v.NAME_POSTPROCESSRENDERPIPELINEMANAGER);e||(e=new o(this),this._addComponent(e)),this._postProcessRenderPipelineManager=new t}return this._postProcessRenderPipelineManager},enumerable:!0,configurable:!0});class o{constructor(e){this.name=n.v.NAME_POSTPROCESSRENDERPIPELINEMANAGER,this.scene=e}register(){this.scene._gatherRenderTargetsStage.registerStep(n.v.STEP_GATHERRENDERTARGETS_POSTPROCESSRENDERPIPELINEMANAGER,this,this._gatherRenderTargets)}rebuild(){this.scene._postProcessRenderPipelineManager&&this.scene._postProcessRenderPipelineManager._rebuild()}dispose(){this.scene._postProcessRenderPipelineManager&&this.scene._postProcessRenderPipelineManager.dispose()}_gatherRenderTargets(){this.scene._postProcessRenderPipelineManager&&this.scene._postProcessRenderPipelineManager.update()}}}}]);